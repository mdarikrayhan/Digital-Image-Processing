Original image:
[[4 3 5]
 [3 6 2]
 [5 4 7]]

Kernel:
[[1 2 1]
 [2 4 2]
 [1 2 1]]

0 + 0 + 0 + 0 + 16 + 6 + 0 + 6 + 6 = 34 = 2.125 = 2.0
0 + 0 + 0 + 4 + 12 + 10 + 3 + 12 + 2 = 43 = 2.6875 = 3.0
0 + 0 + 0 + 6 + 20 + 0 + 6 + 4 + 0 = 36 = 2.25 = 2.0
0 + 4 + 3 + 0 + 12 + 12 + 0 + 10 + 4 = 45 = 2.8125 = 3.0
2 + 6 + 2 + 6 + 24 + 4 + 5 + 8 + 7 = 64 = 4.0 = 4.0
3 + 4 + 0 + 8 + 8 + 0 + 4 + 14 + 0 = 41 = 2.5625 = 3.0
0 + 6 + 4 + 0 + 20 + 8 + 0 + 0 + 0 = 38 = 2.375 = 2.0
3 + 8 + 3 + 4 + 16 + 14 + 0 + 0 + 0 = 48 = 3.0 = 3.0
4 + 6 + 0 + 6 + 28 + 0 + 0 + 0 + 0 = 44 = 2.75 = 3.0

Blurred image:
[[2 3 2]
 [3 4 3]
 [2 3 3]]

Mask:
[[ 2  0  3]
 [ 0  2 -1]
 [ 3  1  4]]

Output image:
[[ 9.  3. 13.]
 [ 3. 11. -1.]
 [13.  7. 17.]]